# Curso de Debugging con Chrome DevTools

> 31-05-2024

## 1. Introducci√≥n del curso e historia de Debugging Dev Tools

### ¬øPor qu√© Debugging?

El debugging nos ayuda a solucionar problemas que tengas con el software, ese problema debemos encontrarlo y solucionarlo, este proceso se le llama¬†**debugging.**

> Debugging es el proceso de encontrar y resolver defectos o problemas dentro de un programa (software) que impide el funcionamiento correcto del programa o sistema.

[Recurso oficial:](https://developers.google.com/web/tools/chrome-devtools)

## 2. Introducci√≥n a DevTools

Las dev tools son herramientas de desarrollo que vienen en todos los navegadores. No todas son iguales por lo que hay tools muy particulares dependiendo del navegador.

```bash
# Abrir DevTools
Ctrl + Shift + I
```

Elements: HTML
Styles: CSS
Sources: Archivos que se descargan al navegador una vez el proyecto empieza a cargar.

### Instalar Firefox Developer Edition en Linux Mint

[Descargar Firefox Developer Edition](https://www.mozilla.org/en-US/firefox/developer/).

Para instalar Firefox 127.0 Beta 9 en Linux Mint a partir del archivo `firefox-127.0b9.tar.bz2`, sigue estos pasos:

```bash
cd ~/Descargas

# Extraer el archivo
tar xjf firefox-127.0b9.tar.bz2

# Mover Firefox al directorio opt
sudo mv firefox /opt/firefox127
# Esto mantendr√° el sistema organizado.

# Crear un enlace simb√≥lico
sudo ln -s /opt/firefox127/firefox /usr/bin/firefox127

# Ejecutar Firefox
firefox127
```

**Crear un acceso directo (opcional)**:

Para crear un acceso directo en el men√∫ de aplicaciones:

- Crea un archivo de escritorio usando un editor de texto como `nano` o `gedit`:
	```bash
	sudo nano /usr/share/applications/firefox127.desktop
	```

- A√±ade el siguiente contenido al archivo:
     ```plaintext
     [Desktop Entry]
     Name=Firefox Beta 127
     Comment=Web Browser
     Exec=/opt/firefox127/firefox
     Icon=/opt/firefox127/browser/chrome/icons/default/default128.png
     Terminal=false
     Type=Application
     Categories=Network;WebBrowser;
     ```

   - Guarda el archivo y cierra el editor. Para guardar y salir de `nano`, sigue estos pasos:
	- **Guardar**: `Ctrl + O`, luego `Enter`
	- **Salir**: `Ctrl + X`

Ahora deber√≠as tener Firefox 127.0 Beta 9 instalado y listo para usar en tu sistema Linux Mint.

- [Atajos para DevTools Chrome](https://developers.google.com/web/tools/chrome-devtools/shortcuts)
- [Atajos para DevTools Firefox](All keyboard shortcuts[¬∂](https://firefox-source-docs.mozilla.org/devtools-user/keyboard_shortcuts/index.html#all-keyboard-shortcuts "Link to this heading"))

## 3. Editando HTML

Podemos ver el HTML de una p√°gina web en la secci√≥n de¬†**Elements**¬†del DevTools. Aqu√≠ podremos manipular el HTML o usar el selector y al tocar en algo en espec√≠fico dentro de la p√°gina en¬†**Elements**¬†se colocar√° en la l√≠nea de c√≥digo html que sea ese elemento seleccionado.

Para modificar textos dentro de etiquetas das doble clic, y tambi√©n en las etiquetas. 

> Los tres puntos a la derecha nos dejan arrastrar todo ese bloque de c√≥digo hacia otros lugares.

```html
Elements
... üëàüëÄ <div class="icon" role="presentation" alt=""></div>
```

### Shortcuts

- **Ctrl + Shift + C**, para activar el selector
- **Ctrl + F**, para hacer b√∫squedas dentro de¬†**Elements**, este comando tambi√©n sirve para buscar palabras dentro de una p√°gina web

## 4. Editando CSS

Para agregar una declaraci√≥n CSS a un elemento, use la pesta√±a Estilos cuando desee cambiar o agregar declaraciones CSS a un elemento.

- Haga clic derecho en el elemento a modificar a continuaci√≥n y seleccione Inspeccionar.
- Haga clic en la etiqueta, clase o Id cerca de la parte superior de la pesta√±a Estilos.
- Escribe `background-color` o el estilo deseado y presiona Enter.
- Escribe en este caso como ejemplo `honeydewy` presiona Enter, te debe quedar algo as√≠ `background-color: honeydewy`. En el √Årbol DOM, puede ver que se aplic√≥ una declaraci√≥n de estilo en l√≠nea al elemento.

Se puede dar doble clic sobre un elemento num√©rico y con las flechas subir y bajar el n√∫mero.

Tambi√©n podemos ver c√≥mo se comporta un elemento cuando se activa una¬†_pseudo-class_ desde el apartado `:hov`¬†y tambi√©n modificarla.

En la sub-secci√≥n¬†**Computed**¬†podemos ver todos los estilos que estrictamente solo se est√° aplicando a ese elemento seleccionado y podemos ver el modelo de caja tambi√©n.

### Dato

Una vez que realizamos los cambios en los estilos para depurar, es com√∫n olvidar cu√°les fueron todos los cambios que se realizaron en los estilos, para ello podemos acceder a la herramienta¬†**changes**¬†y observar estos cambios:

- Customize and control DevTools (3 puntos)
- More tools / Changes

### Shortcuts

Tambi√©n tenemos shortcuts para aumentar o disminuir el tama√±o de los elementos:

- **Shift + flecha arriba o flecha abajo** = modificas 10px el tama√±o. 
- **Ctrl + flecha arriba o flecha abajo** = modificas 100px el tama√±o. 
- **Alt + flecha arriba o flecha abajo** = modificas 0.1px el tama√±o.

## 5. Colores en DevTools

Para abrir el Selector de colores, encuentra una declaraci√≥n de CSS en el panel Styles que defina un color (como color: blue). A la derecha del valor de la declaraci√≥n se encuentra un cuadrado peque√±o de color. El color del cuadrado coincide con el valor de la declaraci√≥n. Haz clic en este peque√±o cuadrado para abrir el Selector de colores.

```css
element.style¬†{üëá
  background: üü™ darkslateblue;
}
```

Recordar:

Respecto a los colores de Material Design , para poder ver la combinaci√≥n de colores que se pueden aplicar a una p√°gina, en la secci√≥n mencionada de Material Design recordar dar un clic sostenido a cada uno para visualizar la l√≠nea de colores de esta forma:

Entrar a la paleta de colores y dirigirse a la secci√≥n de Material Design

![](https://i.postimg.cc/sxpFcqdq/5-material-design1.png)

Clic sostenido sobre la l√≠nea de colores que desee visualizar

![](https://i.postimg.cc/VvPpdgrR/5-material-design2.png)

## 6. Manejo de sombras en DevTools

A quienes no les aparezcan los tres puntitos para editar las sombras hagan esto:

1. Agreguen el estilo¬†**box-shadow**.
2. Seleccionen la opci√≥n:¬†**0 0 black**
3. Les aparecer√°n dos cuadritos superpuestos los cuales sacan un di√°logo que dice:¬†**"Open shadow editor"**
4. Hacen clic ah√≠ y listo.
5. Aplica lo mismo para: text-shadow

![open shadow editor](https://i.postimg.cc/xjz8b17p/6-open-shadow.png)

## 7. Animaciones en DevTools

- Customize and control DevTools (3 puntos)
- More tools / Animations

[P√°gina para probar animaciones](https://animate.style/)

Enlaces de bibliotecas de animaciones y efectos CSS:

- [Hover](https://ianlunn.github.io/Hover/)
- [CSShake](https://elrumordelaluz.github.io/csshake/)
- [Anijs](https://anijs.github.io/)
- [CSS Wand](https://www.csswand.dev/?ref=producthunt)
- [Animate Components](https://animate-components.surge.sh/)
- [Keyframes](https://keyframes.app/)
- [AniCollection](https://anicollection.github.io/#/)
- [SpinKit Loader](https://tobiasahlin.com/spinkit/)
- [Animejs](https://animejs.com/)

### Dato

Si cuando ingresan a **animate.css** y les aparece que no est√°n habilitadas las animaciones en su sistema operativo, solo tienen que ir a Configuraci√≥n de accesibilidad y Activar las animaciones.

## 8. ¬øC√≥mo medir el c√≥digo que no ocupamos?

- Customize and control DevTools (3 puntos)
- More tools / Coverage

![Coverage](https://i.postimg.cc/tCk9458V/8-coverage1.png)

Para empezar a usar esta herramienta solo das **Click the record button ‚ö´...**

En esta parte puedes limpiar todo o recargar la p√°gina para ver m√°s detalles de los archivos cargados.

En la parte de **Usage Visualization** tenemos barras de carga en rojo y blanco, lo cual indica el¬†**porcentaje de c√≥digo no utilizado**, tambi√©n expresado en bytes, de cada uno de los archivos, respecto del peso total de los mismos que est√° justamente en la columna que est√° a la izquierda, cuyo nombre es¬†**Total Bytes**.

![](https://i.postimg.cc/c4C8ZrbZ/8-coverage2.png)

Para ver el c√≥digo solo basta dar clic en alguno de los elementos en el apartado **URL**.

## 9. JavaScript y el DOM

Para obtener un elemento del DOM lo seleccionamos desde **Elements** en los DevTools de navegador y despu√©s vamos a la consola y escribimos `$0` esto nos traer√° ese elemento previamente seleccionado.

Para empezar a manipular elementos y para agregarles JavaScript podemos usar estas dos formas:

1. `getElementById()` = para llamar a un ID.
2. Vamos al elemento, damos clic derecho, nos saldr√° un men√∫ vamos a donde dice (copy) y despu√©s donde dice **Copy JS-PATH**
    Obtendremos algo parecido:
    `document.querySelector("Body > header")`    

![Copy JS path](https://i.postimg.cc/k5rgzyZ6/9-copy-js-path.png)

Posteriormente, con el elemento que obtengamos le podremos a√±adir funciones con JavaScript.

## 10. DevTools como editor (IDE)

- Sources
- Workspace: Add folder
- Seleccionar toda la carpeta
- Allow

Tambi√©n puedes agregar la carpeta desde tu explorador de archivos, arrastr√°ndola hasta¬†**Workspace**. Adem√°s puedes usar Ctrl + P para hacer busquedas rapidas de tus archivos.

![Workspace](https://i.postimg.cc/65jBk4YX/10-workspace.png)

**OJO:**¬†El css permite ser modificado desde el inspector de elementos tambi√©n, mientras que el HTML y el JavaScript, solo permite ser modificado desde la pesta√±a¬†**Sources**. Los cambios que hagas en el CSS del lado del inspector de elementos, se guardar√°n autom√°ticamente en el archivo CSS local. Los cambios que hagas y guardes desde la pesta√±a¬†**Sources**, se guardar√°n autom√°ticamente en los archivos locales.

‚ö†Ô∏è Es importante tener cuidado al modificar archivos locales importantes, ya que los cambios se guardar√°n autom√°ticamente y podr√≠an afectar el funcionamiento de tu aplicaci√≥n web. Siempre es recomendable hacer una copia de seguridad de tus archivos antes de realizar cambios importantes.

[Edit and save files in a workspace](https://developer.chrome.com/docs/devtools/workspaces)

## 11. Simular una ventana m√≥vil

El¬†**Device Mode**¬†es √∫til para saber de manera aproximada cu√°l ser√° el aspecto y el rendimiento de tu p√°gina en un dispositivo m√≥vil.

Device Mode es el nombre de un conjunto variado de funciones en Chrome DevTools que te ayudan a simular dispositivos m√≥viles. Estas funciones incluyen:

- Simulaci√≥n del viewport de un dispositivo m√≥vil
- Limitaci√≥n de la red
- Limitaci√≥n de la CPU
- Simulaci√≥n de la ubicaci√≥n geogr√°fica
- Configuraci√≥n de la orientaci√≥n

![device-toolbar.png](https://i.postimg.cc/gcHnSK5t/11-device-mode.png)

- [Responsive](https://responsively.app/)
- [Polypane](https://polypane.app/)

## 12. Manejo de sensores

 **Performance ‚öôÔ∏è** nos da algunas opciones como:
 - **Network** que permiten manipular la velocidad del internet.
 - **CPU** nos permite hacer pruebas simulando diferentes dispositivos con poder de c√≥mputo m√°s o menos potentes.

![](https://i.postimg.cc/sXyh6fYb/12-performance-network.png)

A pesar de que Dev Tools nos da estas herramientas, se recomienda comprar dispositivos no tan caros para poder probar nuestras p√°ginas.

Otra herramienta que nos ofrece Dev Tools es emular los sensores del dispositivo(geolocation, orietation, touch). Puedes acceder en la siguiente ruta:

- Customize and control DevTools (3 puntos)
- More tools / Sensors

![](https://i.postimg.cc/x1Y9hkJf/12-sensors.png)

Para saber las posiciones de orientaci√≥n de un celular necesitamos escuchar el evento¬†[DeviceOrientationEvent](https://developer.mozilla.org/en-US/docs/Web/API/DeviceOrientationEvent).

Usa la¬†[API](https://developer.mozilla.org/es/docs/WebAPI/Using_geolocation#:~:text=La%20API%20de%20geolocalizaci%C3%B3n%20permite,para%20proporcionar%20informaci%C3%B3n%20de%20ubicaci%C3%B3n)¬†de Geolocalizaci√≥n que tiene HTML5

## Funcionalidades √∫tiles de Chrome devtools no cubiertas en el curso

En este post te voy a mostrar algunas funcionalidades que posee Chrome DevTools y que no fueron cubiertas en el curso.

### üíª¬†**Variables $1 al $4**

En el curso vimos como podemos usar¬†**$0**¬†para acceder al actual elemento seleccionado en¬†**Elements**, pero adicionalmente existen otros¬†_shortcuts_¬†como¬†**$1**,¬†**$2**,¬†**$3**,¬†**$4**. En estas variables el devtools guardar√° los √∫ltimos 4 elementos que selecciones en el tab¬†**Elements**.

### üîç¬†**Shortcuts para querySelector y querySelectorAll**

Imagina que quieres saber cuantos botones hay en tu HTML, puedes usar `querySelectorAll` para averiguarlo:

```js
var buttons = document.querySelectorAll('button');
console.log(buttons.length)
// muestra el total de elementos
```

Gracias a los DevTools puedes r√°pidamente reemplazar esta funci√≥n por el doble d√≥lar¬†**`$$`**

```js
var buttons = $$('button');
console.log(buttons.length)
// muestra el total de elementos
```

Otro ejemplo:

![](https://i.postimg.cc/wBDHRyVS/vs-query-Selector-All.png)

Tener en cuenta que **`$$`** al ser una utilidad del DevTools retornar√° un arreglo, mientras que¬†`querySelectorAll` retorna un¬†**NodeList**. Pueden comprobarlo con el siguiente c√≥digo:

```js
var buttons = $$('button');
Array.isArray(buttons) // retorna true

// 
var buttons = document.querySelectorAll('button');
console.log(buttons) // retorna false
```

Para el caso de¬†`querySelector`, su alias es¬†**`$`**¬†y tambi√©n es una funci√≥n a la que debemos pasarle un selector, ambas funciones retornan un elemento del DOM y no hay un cambio en el tipo de dato como en¬†`querySelectorAll`

**Tener en cuenta que al ser variables globales pueden ser reemplazadas f√°cilmente, por ejemplo si tienes jQuery en tu HTML el¬†**`$`**¬†ser√° jQuery y no querySelector**

### ‚úèÔ∏è¬†**Copiar una variable**

Vamos a suponer que tenemos una funci√≥n que tras realizar una llamada **http** retorna un objeto que representa la informaci√≥n de un usuario.

```js
function fetchUser() {
   var user = {
  	id: 1,
	name: 'Eduardo',
	age: 33,
	country: 'Peru',
	salary: 100
   };
  return user;
}
```

Ahora imagina que necesitas todo ese objeto para pegarlo en otra herramienta y hacer alg√∫n proceso con esa informaci√≥n, lo normal ser√≠a hacer un `console.log` al objeto, seleccionarlo y copiarlo. !Aburrido! 

DevTools te ahorra ese proceso con su funci√≥n¬†**copy**

```js
function fetchUser() {
   var user = {
  	id: 1,
	name: 'Eduardo',
	age: 33,
	country: 'Peru',
	salary: 100
   };
  
  copy(user) // ahora tienes este objeto en tu porta papeles
  return user;
}
```

Listo, cuando ejecutes la funci√≥n podr√°s hacer `Ctrl/cmd + V` y pegar el objeto en cualquier lado.

### üïµÔ∏è¬†**Seleccionar elementos v√≠a c√≥digo con inspect**

Buscar y seleccionar un elemento es muy simple con DevTools, simplemente haces clic en el icono de la flecha con el cuadradito (`Ctrl + Shift + C`) y luego vas al HTML y haces clic sobre el elemento que deseas, f√°cil. Pero hay una manera¬†_fancy_¬†de hacerlo desde c√≥digo gracias al m√©todo¬†**inspect**.  
Este m√©todo acepta como par√°metro un elemento del DOM.

```js
var button = document.querySelector('#my-button');
inspect(button);
```

Al ejecutarse la funci√≥n inspect autom√°ticamente, el DevTools cambiar√° al tab¬†**Elements**¬†y te mostrar√° el elemento que corresponda al selector¬†**my-button**.

### üëÄ¬†**Monitorear una funci√≥n**

¬øHeredaste un c√≥digo largu√≠simo y dif√≠cil de entender? ¬øLas funciones y variables tienen nombres de letras como¬†**x**,¬†**z**? ¬øEst√°s leyendo esto con voz de vendedor de teleferia? No te preocupes, con la funci√≥n¬†**monitor**¬†DevTools te avisar√° cuando alguna funci√≥n de tu c√≥digo ha sido llamada.

En el siguiente c√≥digo veremos a una funci√≥n que retorna un simple objeto

```js
function fetchUser() {
   var user = {
    id: 1,
    name: 'Eduardo',
    age: 33,
    country: 'Peru',
    salary: 100
   };
  return user;
}
```

Si deseo que los DevTools me avise cada vez que se ha ejecutado la funci√≥n solo debo hacer lo siguiente:

```js
monitor(fetchUser);
// Ejecutamos la funci√≥n
fetchUser();
// Nos aparecer√° el siguiente mensaje:
// function fetchUser called
```

### üì∑¬†**Tomar screenshots**

Quieres pasarle un screenshot a alguien de un elemento del DOM espec√≠fico. Pues simple, selecciono el elemento del DOM usando el DevTools, y luego presiono¬†`Ctrl + Shift + P`¬†se abrir√° un modal con un listado de comandos de acciones del DevTools, escribimos ‚Äúcapture node screenshot‚Äù y autom√°ticamente se guardar√° la imagen del nodo seleccionado. Adicionalmente, se puede generar screenshot de toda la pantalla o incluso dar la opci√≥n de seleccionar una parte en espec√≠fico.

![](https://i.postimg.cc/KvZsbKw0/capture-node-screenshot.png)

Algo as√≠:

![](https://i.postimg.cc/J7BBhPVn/devtools-capture-screenshot.gif)


üëàüëÄ
üëá
üìå